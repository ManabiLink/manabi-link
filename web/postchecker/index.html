<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¨˜äº‹æŠ•ç¨¿æ‰¿èªã‚·ã‚¹ãƒ†ãƒ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #FFE4E8;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .section {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            grid-column: 1 / -1;
        }

        .header h1 {
            color: #333;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header .subtitle {
            color: #666;
            font-size: 14px;
        }

        .section-title {
            font-size: 20px;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #FFB6C1;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #FFB6C1;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #FF69B4;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .submit-btn {
            background-color: #FF69B4;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .submit-btn:hover {
            background-color: #FF1493;
        }

        .pending-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .pending-item {
            background-color: #FFF5F7;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #FFB6C1;
            position: relative;
        }

        .pending-item-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .pending-item-content {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
            max-height: 100px;
            overflow-y: auto;
        }

        .pending-item-time {
            font-size: 12px;
            color: #999;
            margin-bottom: 15px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .approve-btn, .reject-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .approve-btn {
            background-color: #4CAF50;
            color: white;
        }

        .approve-btn:hover {
            background-color: #45a049;
        }

        .reject-btn {
            background-color: #f44336;
            color: white;
        }

        .reject-btn:hover {
            background-color: #da190b;
        }

        .published-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .published-item {
            background-color: #f0f9ff;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #a5d8ff;
        }

        .published-item-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .published-item-content {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .published-item-time {
            font-size: 12px;
            color: #999;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-approved {
            background-color: #d4edda;
            color: #155724;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 14px;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ è¨˜äº‹æŠ•ç¨¿æ‰¿èªã‚·ã‚¹ãƒ†ãƒ </h1>
            <p class="subtitle">æŠ•ç¨¿ã•ã‚ŒãŸè¨˜äº‹ã‚’ç¢ºèªã—ã€é©åˆ‡ãªå†…å®¹ã®ã¿å…¬é–‹ã—ã¾ã™</p>
        </div>

        <!-- æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ  -->
        <div class="section">
            <h2 class="section-title">
                <span>âœï¸</span>
                <span>è¨˜äº‹ã‚’æŠ•ç¨¿</span>
            </h2>
            <div id="alert-container"></div>
            <form id="article-form">
                <div class="form-group">
                    <label for="article-title">è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«</label>
                    <input type="text" id="article-title" placeholder="ä¾‹: å­ã©ã‚‚ã®ç¡çœ ç¿’æ…£ã«ã¤ã„ã¦" required>
                </div>
                <div class="form-group">
                    <label for="article-content">è¨˜äº‹å†…å®¹</label>
                    <textarea id="article-content" placeholder="è¨˜äº‹ã®å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..." required></textarea>
                </div>
                <button type="submit" class="submit-btn">æŠ•ç¨¿ã—ã¦æ‰¿èªã‚’å¾…ã¤</button>
            </form>
        </div>

        <!-- æ‰¿èªå¾…ã¡è¨˜äº‹ -->
        <div class="section">
            <h2 class="section-title">
                <span>â³</span>
                <span>æ‰¿èªå¾…ã¡è¨˜äº‹</span>
                <span class="status-badge status-pending" id="pending-count">0ä»¶</span>
            </h2>
            <div id="pending-list" class="pending-list">
                <div class="empty-state">æ‰¿èªå¾…ã¡ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“</div>
            </div>
        </div>

        <!-- å…¬é–‹æ¸ˆã¿è¨˜äº‹ -->
        <div class="section" style="grid-column: 1 / -1;">
            <h2 class="section-title">
                <span>âœ…</span>
                <span>å…¬é–‹æ¸ˆã¿è¨˜äº‹</span>
                <span class="status-badge status-approved" id="published-count">0ä»¶</span>
            </h2>
            <div id="published-list" class="published-list">
                <div class="empty-state">å…¬é–‹æ¸ˆã¿ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“</div>
            </div>
        </div>
    </div>

    <script>
        // ä¸é©åˆ‡ãªè¡¨ç¾ã®ãƒªã‚¹ãƒˆ
        const inappropriateWords = [
            'æš´åŠ›', 'å·®åˆ¥', 'èª¹è¬—ä¸­å‚·', 'æ”»æ’ƒ', 'ä¾®è¾±', 'è„…è¿«',
            'æ­»ã­', 'ãƒã‚«', 'ã‚¢ãƒ›', 'ã‚¯ã‚º', 'æ®ºã™', 'å«Œã„'
        ];

        let pendingArticles = [];
        let publishedArticles = [];
        let nextId = 1;

        // è¦ç´ å–å¾—
        const articleForm = document.getElementById('article-form');
        const pendingList = document.getElementById('pending-list');
        const publishedList = document.getElementById('published-list');
        const pendingCount = document.getElementById('pending-count');
        const publishedCount = document.getElementById('published-count');
        const alertContainer = document.getElementById('alert-container');

        // åˆæœŸè¡¨ç¤º
        updateDisplay();

        // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
        articleForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('article-title').value;
            const content = document.getElementById('article-content').value;
            
            // ä¸é©åˆ‡ãªè¡¨ç¾ãƒã‚§ãƒƒã‚¯
            const hasInappropriateContent = checkInappropriateContent(title + ' ' + content);
            
            if (hasInappropriateContent) {
                showAlert('ã“ã®è¨˜äº‹ã«ã¯ä¸é©åˆ‡ãªè¡¨ç¾ãŒå«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€æŠ•ç¨¿ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚', 'error');
                return;
            }
            
            // æ‰¿èªå¾…ã¡ãƒªã‚¹ãƒˆã«è¿½åŠ 
            const article = {
                id: nextId++,
                title,
                content,
                timestamp: Date.now(),
                status: 'pending'
            };
            
            pendingArticles.push(article);
            
            articleForm.reset();
            showAlert('è¨˜äº‹ã‚’æŠ•ç¨¿ã—ã¾ã—ãŸã€‚æ‰¿èªã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚', 'success');
            updateDisplay();
        });

        // ä¸é©åˆ‡ãªè¡¨ç¾ãƒã‚§ãƒƒã‚¯
        function checkInappropriateContent(text) {
            return inappropriateWords.some(word => text.includes(word));
        }

        // ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º
        function showAlert(message, type) {
            alertContainer.innerHTML = `
                <div class="alert alert-${type}">
                    ${message}
                </div>
            `;
            
            setTimeout(() => {
                alertContainer.innerHTML = '';
            }, 5000);
        }

        // ç”»é¢æ›´æ–°
        function updateDisplay() {
            // æ‰¿èªå¾…ã¡ãƒªã‚¹ãƒˆæ›´æ–°
            if (pendingArticles.length === 0) {
                pendingList.innerHTML = '<div class="empty-state">æ‰¿èªå¾…ã¡ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“</div>';
            } else {
                pendingList.innerHTML = '';
                pendingArticles.forEach(article => {
                    const item = document.createElement('div');
                    item.className = 'pending-item';
                    item.innerHTML = `
                        <div class="pending-item-title">${article.title}</div>
                        <div class="pending-item-content">${article.content}</div>
                        <div class="pending-item-time">ğŸ“… ${getTimeAgo(article.timestamp)}</div>
                        <div class="action-buttons">
                            <button class="approve-btn" onclick="approveArticle(${article.id})">
                                âœ“ æ‰¿èªã—ã¦å…¬é–‹
                            </button>
                            <button class="reject-btn" onclick="rejectArticle(${article.id})">
                                âœ• å´ä¸‹
                            </button>
                        </div>
                    `;
                    pendingList.appendChild(item);
                });
            }
            
            // å…¬é–‹æ¸ˆã¿ãƒªã‚¹ãƒˆæ›´æ–°
            if (publishedArticles.length === 0) {
                publishedList.innerHTML = '<div class="empty-state">å…¬é–‹æ¸ˆã¿ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“</div>';
            } else {
                publishedList.innerHTML = '';
                // æ–°ã—ã„é †ã«ä¸¦ã¹æ›¿ãˆ
                const sortedArticles = [...publishedArticles].sort((a, b) => b.publishedAt - a.publishedAt);
                sortedArticles.forEach(article => {
                    const item = document.createElement('div');
                    item.className = 'published-item';
                    item.innerHTML = `
                        <div class="published-item-title">${article.title}</div>
                        <div class="published-item-content">${article.content}</div>
                        <div class="published-item-time">ğŸ“… æŠ•ç¨¿: ${getTimeAgo(article.timestamp)} | å…¬é–‹: ${getTimeAgo(article.publishedAt)}</div>
                    `;
                    publishedList.appendChild(item);
                });
            }
            
            // ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
            pendingCount.textContent = `${pendingArticles.length}ä»¶`;
            publishedCount.textContent = `${publishedArticles.length}ä»¶`;
        }

        // è¨˜äº‹æ‰¿èª
        function approveArticle(id) {
            const article = pendingArticles.find(a => a.id === id);
            if (article) {
                article.status = 'approved';
                article.publishedAt = Date.now();
                publishedArticles.push(article);
                pendingArticles = pendingArticles.filter(a => a.id !== id);
                showAlert(`ã€Œ${article.title}ã€ã‚’æ‰¿èªã—ã€å…¬é–‹ã—ã¾ã—ãŸã€‚`, 'success');
                updateDisplay();
            }
        }

        // è¨˜äº‹å´ä¸‹
        function rejectArticle(id) {
            const article = pendingArticles.find(a => a.id === id);
            if (article && confirm(`ã€Œ${article.title}ã€ã‚’å´ä¸‹ã—ã¾ã™ã‹ï¼Ÿ`)) {
                pendingArticles = pendingArticles.filter(a => a.id !== id);
                showAlert(`ã€Œ${article.title}ã€ã‚’å´ä¸‹ã—ã¾ã—ãŸã€‚`, 'error');
                updateDisplay();
            }
        }

        // çµŒéæ™‚é–“è¨ˆç®—
        function getTimeAgo(timestamp) {
            const now = Date.now();
            const diff = now - timestamp;
            
            const minutes = Math.floor(diff / (1000 * 60));
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            
            if (minutes < 1) return 'ãŸã£ãŸä»Š';
            if (minutes < 60) return `${minutes}åˆ†å‰`;
            if (hours < 24) return `${hours}æ™‚é–“å‰`;
            return `${days}æ—¥å‰`;
        }
    </script>
</body>
</html>